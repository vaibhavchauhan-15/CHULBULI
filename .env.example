# =============================================================================
# CHULBULI JEWELS - ENVIRONMENT CONFIGURATION
# =============================================================================
# This file contains all required environment variables for the Chulbuli Jewels
# e-commerce platform. Copy this file to .env.local for local development.
#
# IMPORTANT SECURITY NOTES:
# - NEVER commit .env.local to version control
# - Use different credentials for development, preview, and production
# - Keep production secrets secure and rotate them regularly
# - Only prefix variables with NEXT_PUBLIC_ if they need to be exposed to the browser
#
# =============================================================================

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Public URL of your application (required)
# Development: http://localhost:3000
# Production: https://your-domain.com
APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Application name (displayed in client)
NEXT_PUBLIC_APP_NAME=Chulbuli Jewels

# Support email for customer inquiries
SUPPORT_EMAIL=support@chulbulijewels.com

# =============================================================================
# ENVIRONMENT & NODE CONFIGURATION
# =============================================================================

# Node environment (automatically set by Next.js, but can override)
# Values: development | production
NODE_ENV=development

# Payment mode override (optional)
# By default, determined by NODE_ENV:
# - development/preview: sandbox/test mode
# - production: live mode
# Override only if you need to test production payments in a non-production environment
# Values: sandbox | production | test | live
# PAYMENT_MODE=sandbox

# =============================================================================
# PHONEPE PAYMENT GATEWAY (OAuth 2.0 Standard Checkout v2)
# =============================================================================

# PhonePe OAuth Client ID (required)
# Get this from: PhonePe Merchant Dashboard > API Credentials
# Format: Long alphanumeric string
PHONEPE_CLIENT_ID=your_phonepe_client_id_here

# PhonePe OAuth Client Secret (required)
# Get this from: PhonePe Merchant Dashboard > API Credentials
# Format: Long alphanumeric string
PHONEPE_CLIENT_SECRET=your_phonepe_client_secret_here

# PhonePe Client Version (optional, default: 1)
PHONEPE_CLIENT_VERSION=1

# PhonePe API Base URL (automatically set based on environment)
# Sandbox (development): https://api-preprod.phonepe.com/apis/pg-sandbox
# Production: https://api.phonepe.com/apis/pg
# PHONEPE_BASE_URL=https://api-preprod.phonepe.com/apis/pg-sandbox

# PhonePe OAuth Authorization URL (automatically set based on environment)
# Sandbox (development): https://api-preprod.phonepe.com/apis/pg-sandbox
# Production: https://api.phonepe.com/apis/identity-manager
# PHONEPE_AUTH_URL=https://api-preprod.phonepe.com/apis/pg-sandbox

# PhonePe Webhook Authentication (required for webhook security)
# Configure these in PhonePe Merchant Dashboard > Webhooks
# Used to verify webhook requests are from PhonePe
PHONEPE_WEBHOOK_USERNAME=your_webhook_username_here
PHONEPE_WEBHOOK_PASSWORD=your_webhook_password_here

# =============================================================================
# DATABASE (SUPABASE)
# =============================================================================

# Supabase Project URL (required, exposed to client)
# Get this from: Supabase Dashboard > Settings > API
# Format: https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase Anonymous/Public Key (required, exposed to client)
# Get this from: Supabase Dashboard > Settings > API
# This key is safe to use in the browser (respects RLS policies)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Database Direct Connection URL (optional, for migrations/scripts)
# Format: postgresql://user:password@host:port/database
# Use Supabase connection pooler for serverless: ?pgbouncer=true
DATABASE_URL=postgresql://postgres:password@db.your-project-id.supabase.co:5432/postgres

# =============================================================================
# FIREBASE AUTHENTICATION
# =============================================================================

# Firebase API Key (required, exposed to client)
NEXT_PUBLIC_FIREBASE_API_KEY=your_firebase_api_key_here

# Firebase Auth Domain (required, exposed to client)
# Format: your-project-id.firebaseapp.com
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project-id.firebaseapp.com

# Firebase Project ID (required, exposed to client)
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-project-id

# Firebase Storage Bucket (required, exposed to client)
# Format: your-project-id.appspot.com
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project-id.appspot.com

# Firebase Messaging Sender ID (required, exposed to client)
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789012

# Firebase App ID (required, exposed to client)
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789012:web:abcdef1234567890

# Firebase Service Account Key (optional, for admin operations)
# Get this from: Firebase Console > Project Settings > Service Accounts
# Format: Base64-encoded JSON service account key
# To generate: base64 -i path/to/serviceAccountKey.json
FIREBASE_SERVICE_ACCOUNT_KEY=base64_encoded_service_account_json_here

# =============================================================================
# CLOUDINARY (IMAGE HOSTING)
# =============================================================================

# Cloudinary Cloud Name (required for image uploads)
# Get this from: Cloudinary Dashboard
CLOUDINARY_CLOUD_NAME=your_cloudinary_cloud_name

# Cloudinary API Key (required for server-side image operations)
# Get this from: Cloudinary Dashboard > Settings > API Keys
CLOUDINARY_API_KEY=your_cloudinary_api_key

# Cloudinary API Secret (required for server-side image operations)
# Get this from: Cloudinary Dashboard > Settings > API Keys
CLOUDINARY_API_SECRET=your_cloudinary_api_secret

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Secret Key (required for authentication tokens)
# IMPORTANT: Generate a secure random string (minimum 32 characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# NEVER use the same secret in production and development
JWT_SECRET=your_jwt_secret_at_least_32_characters_long_here

# JWT Token Expiry Duration (optional, default: 7d)
# Format: 1d (1 day), 7d (7 days), 24h (24 hours), etc.
JWT_EXPIRES_IN=7d

# CSRF Protection Secret (optional, for CSRF token generation)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CSRF_SECRET=your_csrf_secret_here

# =============================================================================
# CRON JOBS & SCHEDULED TASKS
# =============================================================================

# Cron Job Secret (required for authenticating cron job requests)
# Used to prevent unauthorized access to cron endpoints
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CRON_SECRET=your_cron_secret_here

# =============================================================================
# VERCEL DEPLOYMENT (Automatically set by Vercel)
# =============================================================================

# These variables are automatically set by Vercel - DO NOT manually set them
# VERCEL_ENV=development | preview | production
# VERCEL_URL=your-deployment-url.vercel.app
# VERCEL_PROJECT_PRODUCTION_URL=your-project.vercel.app

# =============================================================================
# OPTIONAL CONFIGURATION
# =============================================================================

# NextAuth URL (if using NextAuth)
# NEXTAUTH_URL=http://localhost:3000

# NextAuth Secret (if using NextAuth)
# Generate with: openssl rand -base64 32
# NEXTAUTH_SECRET=your_nextauth_secret_here

# Sentry DSN (if using Sentry for error tracking)
# SENTRY_DSN=https://your-sentry-dsn.ingest.sentry.io/your-project-id

# =============================================================================
# DEVELOPMENT TIPS
# =============================================================================
#
# 1. Getting Started:
#    - Copy this file to .env.local
#    - Replace all placeholder values with your actual credentials
#    - Restart your development server (npm run dev)
#
# 2. Testing Payments Locally:
#    - Use PhonePe and Razorpay TEST credentials
#    - PhonePe: Sandbox URL (api-preprod.phonepe.com)
#    - Razorpay: Test key ID (rzp_test_...)
#
# 3. Production Deployment:
#    - Use separate production credentials
#    - Set environment variables in Vercel Dashboard
#    - Never commit production secrets to git
#    - Enable environment-specific variables in Vercel:
#      * Production: Live payment keys
#      * Preview: Test payment keys
#      * Development: Test payment keys
#
# 4. Environment Validation:
#    - The app validates environment variables on startup
#    - Missing required variables will throw clear errors
#    - Mismatched environments (e.g., test keys in production) will warn/error
#
# 5. Debugging:
#    - Check console output during development for environment info
#    - All environment configuration is centralized in src/lib/config/environment.ts
#    - Payment integrations are in src/lib/payments/
#
# =============================================================================
